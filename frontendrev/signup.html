<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="Login.css">
  <title>Sign Up</title>
  <script>
    function validatePasswords() {
      const password = document.querySelector('input[name="password"]').value;
      const confirmPassword = document.querySelector('input[name="confirmPassword"]').value;
      const passwordError = document.querySelector('#passwordError');
      const confirmPasswordError = document.querySelector('#confirmPasswordError');
      
      let passwordValid = true;

      // Validate password first
      if (password.length < 4) {
        passwordError.textContent = "Password is too short!";
        passwordError.style.color = 'red';
        passwordValid = false;
      } else if (password.length > 16) {
        passwordError.textContent = "Password must not exceed 16 characters!";
        passwordError.style.color = 'red';
        passwordValid = false;
      }else {
        passwordError.textContent = ""; // Clear error message if password is valid
      }

      if (!passwordValid) {
        return false; // Prevent form submission if password is invalid
      }

      // Check if the passwords match
      if (password !== confirmPassword) {
        confirmPasswordError.textContent = "Passwords do not match!";
        confirmPasswordError.style.color = 'red';
        return false; // Prevent form submission if passwords do not match
      } else {
        confirmPasswordError.textContent = ""; // Clear error message if passwords match
      }

      return true; // Allow form submission if everything is valid
    }
  </script>
</head>
<body>
  <section>
    <div class="form-box" style="height:600px;">
      <div class="form-value">
        <form action="/signup" method="POST" onsubmit="return validatePasswords();">
          <h2>Sign Up</h2>

          <div class="inputbox">
            <ion-icon name="person-outline"></ion-icon>
            <input type="text" name="name" required>
            <label for="">Name</label>
          </div>

          <div class="inputbox">
            <ion-icon name="call-outline"></ion-icon>
            <input type="number" name="phone" required>
            <label for="">Phone Number</label>
          </div>

          <div class="inputbox">
            <ion-icon name="mail-outline"></ion-icon>
            <input type="email" name="email" required>
            <label for="">Email</label>
          </div>

          <div class="inputbox">
            <ion-icon name="lock-closed-outline"></ion-icon>
            <input type="password" name="password" required>
            <label for="">Set Password</label>
            <!-- Error message for password -->
            <span id="passwordError"></span>
          </div>

          <div class="inputbox">
            <ion-icon name="lock-closed-outline"></ion-icon>
            <input type="password" name="confirmPassword" required>
            <label for="">Confirm Password</label>
            <!-- Error message for confirm password -->
            <span id="confirmPasswordError"></span>
          </div>

          <button type="submit">Sign Up</button>
          <div class="register">
            <p>Already have an account? <a href="/">Login</a></p>
          </div>
        </form>
      </div>
    </div>
  </section>
</body>
</html>